# Домашнее задание к занятию «Резервное копирование баз данных» Mikhail Kuliaev

---

### Задание 1. Резервное копирование

### Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. 

Необходимо описать, какие варианты резервного копирования подходят в случаях: 

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

```
Для обеспечения возможности восстановления данных в полном объеме за предыдущий день наиболее подходящими вариантами 
будут дифференциальное или полное резервное копирование. Выбор между ними зависит от доступных ресурсов 
(время и место на диске) и требований к скорости восстановления.


Дифференциальное резервное копирование:
Плюсы
- Быстрое восстановление: 
- Меньший риск потери данных
Минусы
- Больше места на диске

Полное резервное копирование:
Плюсы
- Простота восстановления
- Надежность

Минусы
- Большой объем данных
- Длительное время выполнения

```

1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

```
 Для обеспечения возможности восстановления данных за час до предполагаемой поломки наиболее подходящими вариантами 
 будут инкрементное резервное копирование и журналы транзакций. Выбор между ними зависит от конкретной ситуации и 
 требований к точности восстановления.

 Инкрементное резервное копирование:
 Плюсы
- Эффективное использование места на диске
- Быстрое выполнение
Минусы
- Сложность восстановления
- Риск повреждения данных

Журналы транзакций (Transaction Log Backups):
Плюсы
- Точность восстановления
- Эффективность

Минусы
- Сложность управления
- Зависимость от полного резервного копирования

 

```


---

### Задание 2. PostgreSQL

2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).


Резервное копирование

```
pg_dump -U kuliaev -h localhost -p 5432 -F c -b -v -f /backup/sakila-db.backup sakila-db

```

Восстановление

```
pg_restore -U kuliaev -h localhost -p 5432 -d sakila-db -v /backups/sakila-db.backup


```



---

### Задание 3. MySQL

3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL. 


Для начала  необходимо сделать полное резервное копирование

```
xtrabackup --backup --target-dir=/backups/full --user=kuliaev --password=123321

```

Далее  делаем инкрементное резервное копирование

```
xtrabackup --backup --target-dir=/backups/inc1 --incremental-basedir=/backups/full --user=kuliaev --password=123321

```
